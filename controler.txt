<?php

class ProjectTestController extends Controller {

    public function actionSaveDummyProject() {

        $test_project = new Project;

        // put some test info
        $test_project->name = "My first project";

        if($test_project->save())
            $id = $test_project->id;
        else
            $id = -1;

        $this->render('test_result', array(
            'result' => $id
        ));
    }
    public function actionHello($name = "Joe") {

        echo "Hello ".$name;
        if(isset($_GET['name2']))
            echo "and ".$_GET['name2'];
    }

    public function actionShowProjectDetails($id) {
        $test_project = Project::model()->findByPk($id);

        if($test_projecllt == null)
            throw new CHttpException(404, "project requested does not exist");

        echo $test_project->name;
    }

    public function actionUpdateProjectDetails($id, $newName) {
        $test_project = Project::model()->findByPk($id);

        if($test_project == null)
            throw new CHttpException(404, "project requested does not exist");

        $test_project->name = $newName;
        $test_project->save();
        echo "saved";
    }

    public function actionDeleteProject($id) {
        $test_project = Project::model()->findByPk($id);

        if($test_project == null)
            throw new CHttpException(404, "project requested does not exist");

        $test_project->delete();

        echo $test_project->name;
    }
}
